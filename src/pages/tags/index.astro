---
import Layout from '../../layouts/Layout.astro';
import { getCollection } from 'astro:content';

const posts = (await getCollection('posts'))
  .filter((post) => !post.data.draft);

const allTags = [...new Set(posts.flatMap((post) => post.data.tags))];
---

<Layout title="All Tags - TeknoPulse" description="Browse all tags.">
  <main class="container mx-auto px-4 py-8">
    <h1 class="mb-8 text-4xl font-bold">All Tags</h1>
    <div class="flex flex-wrap gap-4">
      {
        allTags.map((tag) => (
          <a href={`/tags/${tag.toLowerCase().replace(/\s+/g, '-')}`} class="rounded-full bg-gray-200 px-4 py-2 dark:bg-gray-700">
            {tag}
          </a>
        ))
      }
    </div>
  </main>
</Layout>
